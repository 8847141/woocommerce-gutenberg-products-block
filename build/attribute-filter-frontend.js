!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=76)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wc.wcSettings}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.React}()},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){var n=r(32),o=r(33),c=r(34);e.exports=function(e,t){return n(e)||o(e,t)||c()}},function(e,t,r){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var c=typeof n;if("string"===c||"number"===c)e.push(n);else if(Array.isArray(n)&&n.length){var u=o.apply(null,n);u&&e.push(u)}else if("object"===c)for(var i in n)r.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},function(e,t){!function(){e.exports=this.wc.wcBlocksData}()},function(e,t,r){e.exports=r(28)()},function(e,t){!function(){e.exports=this.wp.data}()},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(0),o=r(22),c=r.n(o),u=function(e){var t=Object(n.useRef)();return c()(e,t.current)||(t.current=e),t.current}},function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}e.exports=r},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,r){var n=r(20),o=r(10);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?o(e):t}},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},function(e,t,r){var n=r(27);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(0),o=Object(n.createContext)("page"),c=function(){return Object(n.useContext)(o)};o.Provider},function(e,t){!function(){e.exports=this.lodash}()},function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}e.exports=r},function(e,t){!function(){e.exports=this.ReactDOM}()},function(e,t){!function(){e.exports=this.wp.isShallowEqual}()},function(e,t,r){"use strict";var n=r(12),o=r.n(n),c=r(4),u=r.n(c),i=r(21),a=r(13),s=r.n(a),l=r(14),f=r.n(l),b=r(15),p=r.n(b),O=r(16),y=r.n(O),g=r(10),d=r.n(g),v=r(17),j=r.n(v),m=r(3),h=(r(8),r(2)),w=r(37),_=function(e){var t=e.imageUrl,r=void 0===t?"".concat(w.e,"img/block-error.svg"):t,n=e.header,o=void 0===n?Object(h.__)("Oops!","woo-gutenberg-products-block"):n,c=e.text,u=void 0===c?Object(h.__)("There was an error with loading this content.","woo-gutenberg-products-block"):c,i=e.errorMessage;return React.createElement("div",{className:"wc-block-error"},r&&React.createElement("img",{className:"wc-block-error__image",src:r,alt:""}),React.createElement("div",{className:"wc-block-error__content"},o&&React.createElement("p",{className:"wc-block-error__header"},o),u&&React.createElement("p",{className:"wc-block-error__text"},u),i&&React.createElement("p",{className:"wc-block-error__message"},i)))},E=(r(30),function(e){function t(){var e,r;s()(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return r=p()(this,(e=y()(t)).call.apply(e,[this].concat(o))),u()(d()(r),"state",{hasError:!1}),r}return j()(t,e),f()(t,[{key:"render",value:function(){var e=this.props,t=e.header,r=e.imageUrl,n=e.showErrorMessage,o=e.text,c=this.state,u=c.errorMessage;return c.hasError?React.createElement(_,{errorMessage:n?u:null,header:t,imageUrl:r,text:o}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{errorMessage:e.message,hasError:!0}}}]),t}(m.Component));E.defaultProps={showErrorMessage:!1};var S=E;function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=document.querySelectorAll(e);n.length&&Array.prototype.forEach.call(n,(function(e,n){var c=r(e,n),u=R({},e.dataset,{},c.attributes);e.classList.remove("is-loading"),Object(i.render)(React.createElement(S,null,React.createElement(t,o()({},c,{attributes:u}))),e)}))}},,,,function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},function(e,t,r){"use strict";var n=r(29);function o(){}function c(){}c.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,c,u){if(u!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:c,resetWarningCache:o};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){},,function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,c=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw c}}return r}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},,function(e,t,r){var n=r(49),o=r(50),c=r(51);e.exports=function(e){return n(e)||o(e)||c()}},function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return c})),r.d(t,"c",(function(){return u})),r.d(t,"a",(function(){return i})),r.d(t,"e",(function(){return a}));var n=r(1),o=Object(n.getSetting)("enableReviewRating",!0),c=Object(n.getSetting)("showAvatars",!0),u=(Object(n.getSetting)("max_columns",6),Object(n.getSetting)("min_columns",1),Object(n.getSetting)("default_columns",3),Object(n.getSetting)("max_rows",6),Object(n.getSetting)("min_rows",1),Object(n.getSetting)("default_rows",2),Object(n.getSetting)("min_height",500),Object(n.getSetting)("default_height",500),Object(n.getSetting)("placeholderImgSrc","")),i=(Object(n.getSetting)("thumbnail_size",300),Object(n.getSetting)("isLargeCatalog"),Object(n.getSetting)("limitTags"),Object(n.getSetting)("hasProducts",!0),Object(n.getSetting)("hasTags",!0),Object(n.getSetting)("homeUrl",""),Object(n.getSetting)("productCount",0),Object(n.getSetting)("attributes",[])),a=Object(n.getSetting)("wcBlocksAssetUrl","")},,function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(7),o=r(9),c=r(0),u=r(11),i=function(e){var t=e.namespace,r=e.resourceName,i=e.resourceValues,a=void 0===i?[]:i,s=e.query,l=void 0===s?{}:s,f=e.shouldSelect,b=void 0===f||f;if(!t||!r)throw new Error("The options object must have valid values for the namespace and the resource properties.");var p=Object(c.useRef)({results:[],isLoading:!0}),O=Object(u.a)(l),y=Object(u.a)(a),g=Object(o.useSelect)((function(e){if(!b)return null;var o=e(n.COLLECTIONS_STORE_KEY),c=[t,r,O,y];return{results:o.getCollection.apply(o,c),isLoading:!o.hasFinishedResolution("getCollection",c)}}),[t,r,y,O,b]);return null!==g&&(p.current=g),p.current}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(3);function o(e,t,r){void 0===r&&(r={});var o=r.maxWait,c=Object(n.useRef)(null),u=Object(n.useRef)([]),i=r.leading,a=void 0===r.trailing||r.trailing,s=Object(n.useRef)(!1),l=Object(n.useRef)(null),f=Object(n.useRef)(!1),b=Object(n.useRef)(e);b.current=e;var p=Object(n.useCallback)((function(){clearTimeout(l.current),clearTimeout(c.current),c.current=null,u.current=[],l.current=null,s.current=!1}),[]);Object(n.useEffect)((function(){return function(){f.current=!0}}),[]);return[Object(n.useCallback)((function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];u.current=e,clearTimeout(l.current),s.current&&(s.current=!1),l.current||!i||s.current||(b.current.apply(b,e),s.current=!0),l.current=setTimeout((function(){var t=!0;i&&s.current&&(t=!1),p(),!f.current&&a&&t&&b.current.apply(b,e)}),t),o&&!c.current&&a&&(c.current=setTimeout((function(){var e=u.current;p(),f.current||b.current.apply(null,e)}),o))}),[o,t,p,i,a]),p,function(){l.current&&(b.current.apply(null,u.current),p())}]}},function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return u}));var n=r(37),o=n.a.reduce((function(e,t){var r,n=(r=t)&&r.attribute_name?{id:parseInt(r.attribute_id,10),name:r.attribute_name,taxonomy:"pa_"+r.attribute_name,label:r.attribute_label}:null;return n.id&&e.push(n),e}),[]),c=function(e){if(e)return o.find((function(t){return t.id===e}))},u=function(e){if(e)return o.find((function(t){return t.taxonomy===e}))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return c}));var n=r(19),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=e.filter((function(e){return e.attribute===r.taxonomy})),u=c.length?c[0]:null;if(u&&u.slug&&Array.isArray(u.slug)&&u.slug.includes(o)){var i=u.slug.filter((function(e){return e!==o})),a=e.filter((function(e){return e.attribute!==r.taxonomy}));i.length>0&&(u.slug=i.sort(),a.push(u)),t(Object(n.sortBy)(a,"attribute"))}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"in",u=e.filter((function(e){return e.attribute!==r.taxonomy}));0===o.length?t(u):(u.push({attribute:r.taxonomy,operator:c,slug:Object(n.map)(o,"slug").sort()}),t(Object(n.sortBy)(u,"attribute")))}},,,,function(e,t,r){"use strict";var n=r(0),o=r(1),c=r(7),u=r(9);t.a=function(e){return function(t){var r;return r=Object(n.useRef)(Object(o.getSetting)("restApiRoutes")),Object(u.useSelect)((function(e,t){if(r.current){var n=e(c.SCHEMA_STORE_KEY),o=n.isResolving,u=n.hasFinishedResolution,i=t.dispatch(c.SCHEMA_STORE_KEY),a=i.receiveRoutes,s=i.startResolution,l=i.finishResolution;Object.keys(r.current).forEach((function(e){var t=r.current[e];o("getRoutes",[e])||u("getRoutes",[e])||(s("getRoutes",[e]),a(t,[e]),l("getRoutes",[e]))}))}}),[]),React.createElement(e,t)}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return O})),r.d(t,"c",(function(){return y}));var n=r(4),o=r.n(n),c=r(5),u=r.n(c),i=r(7),a=r(9),s=r(0),l=r(18),f=r(11);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var p=function(e){var t=Object(l.a)();e=e||t;var r=Object(a.useSelect)((function(t){return t(i.QUERY_STATE_STORE_KEY).getValueForQueryContext(e,void 0)}),[e]),n=Object(a.useDispatch)(i.QUERY_STATE_STORE_KEY).setValueForQueryContext;return[r,Object(s.useCallback)((function(t){n(e,t)}),[e])]},O=function(e,t,r){var n=Object(l.a)();r=r||n;var o=Object(a.useSelect)((function(n){return n(i.QUERY_STATE_STORE_KEY).getValueForQueryKey(r,e,t)}),[r,e]),c=Object(a.useDispatch)(i.QUERY_STATE_STORE_KEY).setQueryValue;return[o,Object(s.useCallback)((function(t){c(r,e,t)}),[r,e])]},y=function(e,t){var r=Object(l.a)(),n=p(t=t||r),c=u()(n,2),i=c[0],a=c[1],O=Object(f.a)(e),y=Object(s.useRef)(!1);return Object(s.useEffect)((function(){a(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},i,{},O)),y.current=!0}),[O]),y.current?[i,a]:[e,a]}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},,,,,,function(e,t,r){"use strict";r.r(t);var n=r(47),o=r(4),c=r.n(o),u=r(5),i=r.n(u),a=r(48),s=r(39),l=r(77),f=r(0),b=r(36),p=r.n(b),O=r(2),y=(r(8),r(6)),g=r.n(y),d=(r(70),function(e){var t=e.className,r=e.onChange,n=void 0===r?function(){}:r,o=e.options,c=void 0===o?[]:o,u=e.checked,a=void 0===u?[]:u,s=e.isLoading,l=void 0!==s&&s,b=e.isDisabled,y=void 0!==b&&b,d=e.limit,v=void 0===d?10:d,j=Object(f.useState)(!1),m=i()(j,2),h=m[0],w=m[1],_=Object(f.useMemo)((function(){return p()(Array(5)).map((function(e,t){return React.createElement("li",{key:t,style:{width:Math.floor(75*Math.random())+25+"%"}})}))}),[]),E=Object(f.useMemo)((function(){var e=c.length;return!h&&React.createElement("li",{key:"show-more",className:"show-more"},React.createElement("button",{onClick:function(){w(!0)},"aria-expanded":!1,"aria-label":Object(O.sprintf)(Object(O.__)("Show %s more options","woo-gutenberg-products-block"),e-v)},Object(O.sprintf)(Object(O.__)("Show %s more","woo-gutenberg-products-block"),e-v)))}),[c,v,h]),S=Object(f.useMemo)((function(){return h&&React.createElement("li",{key:"show-less",className:"show-less"},React.createElement("button",{onClick:function(){w(!1)},"aria-expanded":!0,"aria-label":Object(O.__)("Show less options","woo-gutenberg-products-block")},Object(O.__)("Show less","woo-gutenberg-products-block")))}),[h]),x=Object(f.useMemo)((function(){var e=c.length>v+5;return React.createElement(f.Fragment,null,c.map((function(t,r){return React.createElement(f.Fragment,{key:t.key},React.createElement("li",e&&!h&&r>=v&&{hidden:!0},React.createElement("input",{type:"checkbox",id:t.key,value:t.key,onChange:n,checked:a.includes(t.key),disabled:y}),React.createElement("label",{htmlFor:t.key},t.label)),e&&r===v-1&&E)})),e&&S)}),[c,a,h,v,S,E,y]),R=g()("wc-block-checkbox-list",{"is-loading":l},t);return React.createElement("ul",{className:R},l?_:x)}),v=(r(69),r(42)),j=r(43);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=function(e){var t=e.attributes,r=e.isEditor,n=void 0!==r&&r,o=Object(f.useCallback)((function(e,r){return React.createElement(f.Fragment,null,e,t.showCounts&&null!==r&&React.createElement("span",{className:"wc-block-attribute-filter-list-count"},r))}),[t]),c=t.isPreview&&!t.attributeId?{id:0,name:"preview",taxonomy:"preview",label:"Preview"}:Object(v.a)(t.attributeId),u=Object(f.useState)(t.isPreview&&!t.attributeId?[{key:"preview-1",label:o("Blue",3)},{key:"preview-2",label:o("Green",3)},{key:"preview-3",label:o("Red",2)}]:[]),b=i()(u,2),p=b[0],O=b[1],y=Object(a.a)(),g=i()(y,1)[0],m=Object(a.b)("attributes",[]),w=i()(m,2),_=w[0],E=w[1],S=Object(f.useMemo)((function(){return _.filter((function(e){return e.attribute===c.taxonomy})).flatMap((function(e){return e.slug}))}),[_,c]),x=Object(s.a)({namespace:"/wc/store",resourceName:"products/attributes/terms",resourceValues:[c.id],shouldSelect:t.attributeId>0}),R=x.results,k=x.isLoading,P="dropdown"!==t.displayStyle&&"and"===t.queryType,T=Object(l.a)({queryAttribute:{taxonomy:c.taxonomy,queryType:t.queryType},queryState:h({},g,{attributes:P?g.attributes:null})}),C=T.results,A=T.isLoading,D=Object(f.useCallback)((function(e){return C.attribute_counts?C.attribute_counts.find((function(t){return t.term===e})):null}),[C]);Object(f.useEffect)((function(){if(!k&&!A){var e=[];R.forEach((function(t){var r=D(t.id),n=S.includes(t.slug),c=r?r.count:null;(r||n)&&e.push({key:t.slug,label:o(t.name,c)})})),O(e)}}),[R,k,A,D,o,S]);var M=Object(f.useCallback)((function(e){return R.reduce((function(t,r){return e.includes(r.slug)&&t.push(r),t}),[])}),[R]),q=Object(f.useCallback)((function(e){var r=e.target.checked,n=e.target.value,o=S.filter((function(e){return e!==n}));r&&(o.push(n),o.sort());var u=M(o);Object(j.b)(_,E,c,u,"or"===t.queryType?"in":"and")}),[R,S,_,E,c,t]);if(0===p.length&&!k)return null;var N="h".concat(t.headingLevel);return React.createElement(f.Fragment,null,!n&&t.heading&&React.createElement(N,null,t.heading),React.createElement("div",{className:"wc-block-attribute-filter"},React.createElement(d,{className:"wc-block-attribute-filter-list",options:p,checked:S,onChange:q,isLoading:!t.isPreview&&k,isDisabled:!t.isPreview&&A})))},_=r(23);Object(_.a)(".wp-block-woocommerce-attribute-filter",Object(n.a)(w),(function(e){return{attributes:{attributeId:parseInt(e.dataset.attributeId||0,10),showCounts:"true"===e.dataset.showCounts,queryType:e.dataset.queryType,heading:e.dataset.heading,headingLevel:e.dataset.headingLevel||3}}}))},function(e,t,r){"use strict";var n=r(4),o=r.n(n),c=r(36),u=r.n(c),i=r(20),a=r.n(i),s=r(5),l=r.n(s),f=r(0),b=r(48),p=r(39),O=r(18),y=r(3),g=r(41);function d(e,t){return e===t}var v=r(19),j=r(11);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.d(t,"a",(function(){return w}));var w=function(e){var t=e.queryAttribute,r=e.queryPrices,n=e.queryState,o=Object(O.a)();o="".concat(o,"-collection-data");var c=Object(b.a)(o),i=l()(c,1)[0],s=Object(b.b)("calculate_attribute_counts",[],o),m=l()(s,2),w=m[0],_=m[1],E=Object(b.b)("calculate_price_range",null,o),S=l()(E,2),x=S[0],R=S[1],k=Object(j.a)(t||{}),P=Object(j.a)(r);Object(f.useEffect)((function(){"object"===a()(k)&&Object.keys(k).length&&(w.find((function(e){return e.taxonomy===k.taxonomy}))||_([].concat(u()(w),[k])))}),[k,w,_]),Object(f.useEffect)((function(){x!==P&&void 0!==P&&R(P)}),[P,R,x]);var T,C,A,D,M,q,N,I,L,F,Y,U,K=Object(f.useState)(!1),Q=l()(K,2),B=Q[0],V=Q[1],W=(T=B,C=200,D=A&&A.equalityFn?A.equalityFn:d,M=Object(y.useState)(T),q=M[0],N=M[1],I=Object(g.a)(Object(y.useCallback)((function(e){return N(e)}),[]),C,A),L=I[0],F=I[1],Y=I[2],U=Object(y.useRef)(T),Object(y.useEffect)((function(){D(U.current,T)||(L(T),U.current=T)}),[T,L,D]),[q,F,Y]),H=l()(W,1)[0];B||V(!0);var z=Object(f.useMemo)((function(){return function(e){var t=e;return e.calculate_attribute_counts&&(t.calculate_attribute_counts=Object(v.sortBy)(e.calculate_attribute_counts.map((function(e){return{taxonomy:e.taxonomy,query_type:e.queryType}})),["taxonomy","query_type"])),t}(i)}),[i]);return Object(p.a)({namespace:"/wc/store",resourceName:"products/collection-data",query:h({},n,{page:void 0,per_page:void 0,orderby:void 0,order:void 0},z),shouldSelect:H})}}]);